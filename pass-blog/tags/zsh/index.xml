<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Zsh on æ‚é¡¹åšæ–‡</title>
    <link>/pass-blog/tags/zsh/</link>
    <description>Recent content in Zsh on æ‚é¡¹åšæ–‡</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-CN</language>
    <lastBuildDate>Tue, 14 Nov 2017 14:17:47 +0000</lastBuildDate>
    
	<atom:link href="/pass-blog/tags/zsh/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>zsh completion tab è¡¥å…¨æç¤º</title>
      <link>/pass-blog/2017/11/14/zsh-completion-tab-%E8%A1%A5%E5%85%A8%E6%8F%90%E7%A4%BA/</link>
      <pubDate>Tue, 14 Nov 2017 14:17:47 +0000</pubDate>
      
      <guid>/pass-blog/2017/11/14/zsh-completion-tab-%E8%A1%A5%E5%85%A8%E6%8F%90%E7%A4%BA/</guid>
      <description>&lt;h1 id=&#34;npm-å’Œ-git-è¡¥å…¨å™¢&#34;&gt;npm å’Œ git è¡¥å…¨å™¢ğŸ˜¯&lt;/h1&gt;

&lt;pre&gt;&lt;code&gt;npm &amp;lt;Tab&amp;gt; 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¼šè¡¥å…¨å‘½ä»¤&lt;/p&gt;

&lt;p&gt;&lt;code&gt;npm&lt;/code&gt;å®ç°ä»£ç 
&lt;a href=&#34;https://github.com/npm/npm/blob/master/lib/utils/completion.sh&#34;&gt;https://github.com/npm/npm/blob/master/lib/utils/completion.sh&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;or&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;npm completion&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;hr /&gt;

&lt;p&gt;&lt;code&gt;git&lt;/code&gt; å®ç°ä»£ç &lt;/p&gt;

&lt;p&gt;åˆ†ç»ˆç«¯ï¼ˆzsh,bash..) åˆ†å®ç°æ–‡ä»¶
&lt;a href=&#34;https://github.com/git/git/blob/master/contrib/completion&#34;&gt;https://github.com/git/git/blob/master/contrib/completion/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å› ä¸º&lt;code&gt;npm&lt;/code&gt; çš„å®ç°æ–‡ä»¶åªæœ‰ä¸€ä¸ªï¼Œæ‡’ä¸ºä¸»ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;æˆ‘çš„æ˜¯ zsh&lt;/p&gt;

&lt;p&gt;é¦–å…ˆå®šä¹‰ä¸€ä¸ª&lt;code&gt;å¯æ‰§è¡Œæ–‡ä»¶ sh&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;test_completion.sh&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;if type compdef &amp;amp;&amp;gt;/dev/null; then

    _test_completion() {
    }

    compdef _test_completion npm
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å½“ä½ è¿è¡Œä¸Šé¢ ä»€ä¹ˆéƒ½æ²¡æœ‰çš„ æ–‡ä»¶æ—¶&lt;/p&gt;

&lt;p&gt;or å¤åˆ¶ &lt;code&gt;then&lt;/code&gt; åé¢é‚£æ®µä»£ç ï¼Œç²˜è´´åˆ° å‘½ä»¤è¡Œè¿è¡Œä¹Ÿå¯ä»¥ã€‚&lt;/p&gt;

&lt;p&gt;ä¹‹å‰&lt;code&gt;npm &amp;lt;Tab&amp;gt;&lt;/code&gt; çš„ æç¤ºå°±ä¼šæ²¡æœ‰&lt;/p&gt;

&lt;p&gt;## ä»£ç åˆ†è§£&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;if type&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æ˜¯ä¸ºäº†åˆ¤æ–­ &lt;code&gt;compdef&lt;/code&gt; æ˜¯å¦å­˜åœ¨ è¿™æ˜¯ &lt;code&gt;zsh&lt;/code&gt; å®šä¹‰çš„ å‡½æ•°å‘½ä»¤&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&amp;amp;&amp;gt;/del/null&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;åº”è¯¥æ˜¯æŠŠ é”™è¯¯ æ–‡ä»¶åŒ– æ”¾åˆ° /dev/null&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;compdef _test_completion npm&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;è¿™é‡Œæœ‰ä¸‰ä¸ªå˜é‡&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;compdef æ˜¯ å‡½æ•°è°ƒç”¨&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;_test_completion æ˜¯ &lt;code&gt;compdef&lt;/code&gt; çš„ç¬¬ä¸€ä¸ªå˜é‡ï¼Œç”¨æ¥å®šä¹‰ è¡¥å…¨è§„åˆ™&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;compdef(_test_completion)&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;npm æ˜¯ &lt;code&gt;compdef&lt;/code&gt; çš„ç¬¬äºŒä¸ªå˜é‡ã€‚è¡¥å…¨å¯¹è±¡&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;compdef( _test_completion, npm )&lt;/p&gt;

&lt;p&gt;åªè¦æŠŠ npm æ›¿æ¢æˆ git é‚£ä¹ˆï¼Œ&lt;/p&gt;

&lt;p&gt;git çš„ è¡¥å…¨å‘½ä»¤ ä¹Ÿä¼šè¢«æ›¿æ¢ ä»€ä¹ˆéƒ½æ²¡æœ‰ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;è¡¥å…¨è§„åˆ™&#34;&gt;è¡¥å…¨è§„åˆ™&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;_test_completion(){

}
&lt;/code&gt;&lt;/pre&gt;

&lt;blockquote&gt;
&lt;p&gt;zsh å®ç°äº† ç®€ä¾¿çš„ å‘½ä»¤æ·»åŠ -å‡½æ•°&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;compadd&#34;&gt;compadd&lt;/h2&gt;

&lt;p&gt;æºä»£ç ä¸­ä¸»è¦&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-zsh&#34; data-lang=&#34;zsh&#34;&gt;    compadd -- &lt;span style=&#34;color:#ff79c6&#34;&gt;$(&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;COMP_CWORD&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;$((&lt;/span&gt;CURRENT-1&lt;span style=&#34;color:#ff79c6&#34;&gt;))&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;                 &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;COMP_LINE&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;$BUFFER&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;                 &lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;COMP_POINT&lt;/span&gt;&lt;span style=&#34;color:#ff79c6&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#bd93f9&#34;&gt;0&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;                 npm completion -- &lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#8be9fd;font-style:italic&#34;&gt;words&lt;/span&gt;[@]&lt;span style=&#34;color:#f1fa8c&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f1fa8c&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#f1fa8c&#34;&gt;&lt;/span&gt;                 &lt;span style=&#34;color:#bd93f9&#34;&gt;2&lt;/span&gt;&amp;gt;/dev/null&lt;span style=&#34;color:#ff79c6&#34;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¿™æ ·çš„ ,ä¸éš¾çœ‹å‡º &amp;ndash; $ åé¢å°±æ˜¯ compaddå‡½æ•° - å˜é‡å®šä¹‰&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;æºæ–‡æ¡£å¤ªå¤§äº†ï¼Œæˆªæ‰ä»€ä¹ˆçœ‹çœ‹åŒºåˆ«&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å½“æˆ‘æŠŠ &lt;code&gt;npm completion -- &amp;quot;${words[@]}&amp;quot; \&lt;/code&gt; å‰ªæ‰&lt;/p&gt;

&lt;p&gt;&lt;code&gt;npm &amp;lt;Tab&amp;gt;&lt;/code&gt;ä»€ä¹ˆæç¤ºéƒ½æ²¡æœ‰äº†ï¼Œçœ‹æ¥è¿™å°±æ˜¯ç§˜å¯†ã€‚&lt;/p&gt;

&lt;p&gt;ä¸è¿‡æˆ‘ä»¬çœ‹äº†ç»ˆç‚¹ï¼Œä¸å¦‚å›åˆ°åŸç‚¹ã€‚åŠ åŠ çœ‹&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;ç¤ºä¾‹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-zsh&#34; data-lang=&#34;zsh&#34;&gt;    _test_completion&lt;span style=&#34;color:#ff79c6&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#ff79c6&#34;&gt;{&lt;/span&gt;
        compadd -- install
    &lt;span style=&#34;color:#ff79c6&#34;&gt;}&lt;/span&gt;
    compdef _test_completion npm &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;$ npm &amp;lt;tab&amp;gt;

$ npm install&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å™¢ é‚£ä¹ˆå°±ä¼šæç¤º install&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;å†è¯•è¯•&lt;/p&gt;
&lt;/blockquote&gt;

&lt;pre&gt;&lt;code&gt;    _test_completion() {
        echo &amp;quot;${words[@]}&amp;quot; 
        echo $CURRENT
        echo $BUFFER
        compadd -- install up
    }
    compdef _test_completion npm 
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    
    <item>
      <title>Anaconda conda command not found : è§£å†³</title>
      <link>/pass-blog/2017/08/12/anaconda-conda-command-not-found-%E8%A7%A3%E5%86%B3/</link>
      <pubDate>Sat, 12 Aug 2017 09:58:18 +0000</pubDate>
      
      <guid>/pass-blog/2017/08/12/anaconda-conda-command-not-found-%E8%A7%A3%E5%86%B3/</guid>
      <description>conda  æ˜¯ Anaconda çš„ å‘½ä»¤è¡Œ
 å› ä¸ºä½¿ç”¨zshç»ˆç«¯åï¼Œcondaè·¯å¾„å¤±å»äº†
ohmyzsh
$ conda conda command not found è§£å†³ export PATH=&amp;quot;/home/username/miniconda/bin:$PATH&amp;quot; source ~/.zshrc   zshä¸­ .zshrc
//error: export PATH = &amp;#34;/home/username/miniconda/bin:$PATH&amp;#34; //right export PATH=&amp;#34;/home/username/miniconda/bin:$PATH&amp;#34;  ä¸è¦ä¿æŒè‰¯å¥½çš„ä»£ç æ ¼å¼,ä¼šå‡ºé”™
 å‚è€ƒ stackoverflow .zshrcä¿æŒä¸ç©ºæ ¼</description>
    </item>
    
  </channel>
</rss>