   
  

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta property="og:title" content="Bevy - 设置" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="http://llever.com/bevyengine-cn&#x2F;getting-started&#x2F;setup&#x2F;" />
    <meta
      property="og:image"
      content="http://llever.com/bevyengine-cn/assets/bevy_logo_fill.png"
    />
    <meta
      property="og:description"
      content="Bevy is a refreshingly simple data-driven game engine built in Rust. It is free and open-source forever!"
    />
    <link
      rel="shortcut icon"
      type="image/png"
      href="&#x2F;bevyengine-cn/assets/favicon.png"
    />
    <link rel="stylesheet" href="&#x2F;bevyengine-cn/site.css" />
    <link
      href="&#x2F;bevyengine-cn/atom.xml"
      rel="alternate"
      type="application/atom+xml"
    />
    <title>Bevy - 设置</title>
    
<script src="&#x2F;bevyengine-cn/optional-helpers.js"></script>

  </head>

  <body>
    <div class="headerbar-container">
      <nav class="headerbar container">
        <a href="&#x2F;bevyengine-cn/" class="header-logo">
          <img
            src="&#x2F;bevyengine-cn/assets/bevy_logo_dark.svg"
            class="logo"
            alt="bevy logo"
          />
        </a>
        
        <a href="&#x2F;bevyengine-cn/" class="header-logo-mobile">
          <img
            src="&#x2F;bevyengine-cn/assets/bevy_icon_dark.svg"
            class="logo"
            alt="bevy icon"
          />
        </a>
        
        <div class="header-item header-message">
           Features 
        </div>
        <div class="header-item header-push"></div>
        



    


<a href="{{config.base_url}}&#x2f;" class="header-item" >
    Features
</a>

        



    


<a href="&#x2f;learn" class="header-item" >
    Learn
</a>

        



    


<a href="&#x2f;news" class="header-item" >
    News
</a>

        



    


<a href="&#x2f;community" class="header-item" >
    Community
</a>

        <a
          class="header-item header-button header-button-donate"
          href="https://github.com/sponsors/cart"
          >Donate
          <img
            src="&#x2F;bevyengine-cn/assets/heart.svg"
            class="header-button-donate-heart"
            alt="heart icon"
        /></a>
        <a
          class="header-item header-button"
          href="&#x2F;bevyengine-cn/learn/book_cn/getting-started/"
          >Get Started</a
        >
      </nav>
    </div>
    <section class="section">
      <div class="container">
<div class="book-page">
  <input type="checkbox" style="display: none" id="show-book-nav" />
  <nav class="book-nav" role="navigation">
     
    <ul class="book-nav-sections-container book-nav-sections">
       

<li class="book-nav-section">
    <a href="&#x2F;bevyengine-cn&#x2F;introduction&#x2F;" class="book-nav-section-title">
        <strong class="book-nav-section-number">1.</strong>
        简介
    </a>
    
</li>
  

<li class="book-nav-section">
    <a href="&#x2F;bevyengine-cn&#x2F;getting-started&#x2F;" class="book-nav-section-title">
        <strong class="book-nav-section-number">2.</strong>
        入门指南
    </a>
    
    <ul class="book-nav-sections book-nav-sections-indented">
        
        
        

<li class="book-nav-section">
    <a href="&#x2F;bevyengine-cn&#x2F;getting-started&#x2F;setup&#x2F;" class="book-nav-section-title-active book-nav-section-title" >
        <strong class="book-nav-section-number">2.1.</strong>
        设置
    </a>
    
</li>

        
        
        

<li class="book-nav-section">
    <a href="&#x2F;bevyengine-cn&#x2F;getting-started&#x2F;apps&#x2F;" class="book-nav-section-title">
        <strong class="book-nav-section-number">2.2.</strong>
        apps
    </a>
    
</li>

        
        
        

<li class="book-nav-section">
    <a href="&#x2F;bevyengine-cn&#x2F;getting-started&#x2F;ecs&#x2F;" class="book-nav-section-title">
        <strong class="book-nav-section-number">2.3.</strong>
        ecs
    </a>
    
</li>

        
        
        

<li class="book-nav-section">
    <a href="&#x2F;bevyengine-cn&#x2F;getting-started&#x2F;plugins&#x2F;" class="book-nav-section-title">
        <strong class="book-nav-section-number">2.4.</strong>
        插件
    </a>
    
</li>

        
        
        

<li class="book-nav-section">
    <a href="&#x2F;bevyengine-cn&#x2F;getting-started&#x2F;resources&#x2F;" class="book-nav-section-title">
        <strong class="book-nav-section-number">2.5.</strong>
        资源
    </a>
    
</li>

        
    </ul>
    
</li>
  

<li class="book-nav-section">
    <a href="&#x2F;bevyengine-cn&#x2F;next-steps&#x2F;" class="book-nav-section-title">
        <strong class="book-nav-section-number">3.</strong>
        下一步
    </a>
    
</li>
  

<li class="book-nav-section">
    <a href="&#x2F;bevyengine-cn&#x2F;contributing&#x2F;" class="book-nav-section-title">
        <strong class="book-nav-section-number">4.</strong>
        贡献
    </a>
    
    <ul class="book-nav-sections book-nav-sections-indented">
        
        
        

<li class="book-nav-section">
    <a href="&#x2F;bevyengine-cn&#x2F;contributing&#x2F;code&#x2F;" class="book-nav-section-title">
        <strong class="book-nav-section-number">4.1.</strong>
        code
    </a>
    
</li>

        
        
        

<li class="book-nav-section">
    <a href="&#x2F;bevyengine-cn&#x2F;contributing&#x2F;docs&#x2F;" class="book-nav-section-title">
        <strong class="book-nav-section-number">4.2.</strong>
        docs
    </a>
    
</li>

        
    </ul>
    
</li>
  

<li class="book-nav-section">
    <a href="&#x2F;bevyengine-cn&#x2F;troubleshooting&#x2F;" class="book-nav-section-title">
        <strong class="book-nav-section-number">5.</strong>
        troubleshooting
    </a>
    
</li>
  

<li class="book-nav-section">
    <a href="&#x2F;bevyengine-cn&#x2F;faq&#x2F;" class="book-nav-section-title">
        <strong class="book-nav-section-number">6.</strong>
        faq
    </a>
    
</li>
 
    </ul>
    
  </nav>
  <div class="book-content">
                                                                            
    <a
      id="book-pager-bar-previous"
      href="&#x2F;bevyengine-cn&#x2F;getting-started&#x2F;"
      class="book-pager-bar book-pager-bar-previous"
    >
      <div class="book-pager-bar-icon book-pager-bar-icon-previous">
        <img
          src="&#x2F;bevyengine-cn/assets/pager_previous.svg"
          class="book-pager-image book-pager-image-left"
        />
      </div>
    </a>
         
    <a
      id="book-pager-bar-next"
      href="&#x2F;bevyengine-cn&#x2F;getting-started&#x2F;apps&#x2F;"
      class="book-pager-bar book-pager-bar-next"
    >
      <div class="book-pager-bar-icon book-pager-bar-icon-next">
        <img
          src="&#x2F;bevyengine-cn/assets/pager_next.svg"
          class="book-pager-image book-pager-image-right"
        />
      </div>
    </a>
    

    <h1>
       设置  
    </h1>
    <div class="media-content"><p>我知道你渴望开始制作游戏, 但我们需要先做少量的设置.</p>
<h2 id="rust-she-zhi">Rust 设置</h2>
<p>所有 Bevy 应用和引擎代码都是用 Rust 编写的. 这意味着在我们开始之前, 我们需要搭建我们的 Rust 开发环境.</p>
<h3 id="an-zhuang-rust">安装 Rust</h3>
<p>按照<a href="(https://www.rust-lang.org/learn/get-started)">Rust 入门指南</a>安装 Rust</p>
<p>一旦完成, <code>rustc</code>编译器和<code>cargo</code>构建系统应该成功安装在你的可执行路径中.</p>
<h3 id="an-zhuang-xi-tong-yi-lai">安装系统依赖</h3>
<ul>
<li><a href="https://github.com/bevyengine/bevy/blob/master/docs/linux_dependencies.md">Linux</a></li>
<li>Windows: 你可以很好的进行下去</li>
<li>MacOS: 没有要安装的依赖</li>
</ul>
<h3 id="dai-ma-bian-ji-qi-ide">代码编辑器 / IDE</h3>
<p>你可以使用任何你喜欢编辑器. 但我们强烈推荐拥有<a href="https://github.com/rust-analyzer/rust-analyzer">Rust Analyzer</a>插件的编辑器. <code>Rust Analyzer</code>仍在开发中, 但它已经提供了顶级的自动补全和代码提示. <a href="https://code.visualstudio.com/">Visual Studio Code</a>拥有官方支持的<a href="https://marketplace.visualstudio.com/items?itemName=matklad.rust-analyzer">Rust Analyzer 插件</a>.</p>
<h3 id="rust-xue-xi-zi-liao">Rust 学习资料</h3>
<p>本书的目的是学习 Bevy, 所以不会提供完整的 Rust 教学. 如果你想学习更多关于 Rust 语言的内容, 请查看以下资源:</p>
<ul>
<li><a href="https://doc.rust-lang.org/book/"><strong>The Rust Book</strong></a>: the best place to learn Rust from scratch</li>
<li><a href="https://doc.rust-lang.org/rust-by-example/"><strong>Rust by Example</strong></a>: learn Rust by working through live coding examples</li>
</ul>
<h2 id="xin-jian-yi-ge-bevy-xiang-mu">新建一个 Bevy 项目</h2>
<p>现在我们已经准备好新建一个 Bevy 项目了! Bevy 只是正常的 Rust 依赖项. 你可以将其添加到现有的 Rust 项目中, 也可以新建一个. 为了完整起见, 我们从零开始.</p>
<h3 id="xin-jian-yi-ge-ke-zhi-xing-de-rust-xiang-mu">新建一个可执行的 Rust 项目</h3>
<p>首先, 导航到要在其中创建新项目的文件夹. 然后, 运行以下命令以创建一个包含 rust 可执行项目的新文件夹：</p>
<pre style="background-color:#2b2c2f;">
<span style="color:#cccece;">cargo new my_bevy_game
</span><span style="color:#cccece;">cd my_bevy_game
</span></pre>
<p>现在执行<code>cargo run</code>来编译和运行你的项目. 你应该可以看到<code>Hello, world!</code>打印在命令行中. 用你选择的编辑器中打开<code>my_bevy_game</code>文件夹, 花一些时间来浏览这些文件.</p>
<p><code>main.rs</code> 是整个程序的入口:</p>
<pre style="background-color:#2b2c2f;">
<span style="color:#c594c5;">fn </span><span style="color:#6699cc;">main</span><span style="color:#5fb3b3;">() {
</span><span style="color:#cccece;">    </span><span style="color:#cccece;">println!</span><span style="color:#5fb3b3;">(&quot;</span><span style="color:#99c794;">Hello, world!</span><span style="color:#5fb3b3;">&quot;);
</span><span style="color:#5fb3b3;">}
</span></pre>
<p><code>Cargo.toml</code> 是你的项目文件. 它包含了诸如名字, 依赖和构建配置等元数据.</p>
<pre style="background-color:#2b2c2f;">
<span style="color:#5fb3b3;">[package]
</span><span style="color:#eb606b;">name </span><span style="color:#5fb3b3;">= &quot;</span><span style="color:#99c794;">my_bevy_game</span><span style="color:#5fb3b3;">&quot;
</span><span style="color:#eb606b;">version </span><span style="color:#5fb3b3;">= &quot;</span><span style="color:#99c794;">0.1.0</span><span style="color:#5fb3b3;">&quot;
</span><span style="color:#eb606b;">authors </span><span style="color:#5fb3b3;">= [&quot;</span><span style="color:#99c794;">You &lt;you@veryrealemail.com&gt;</span><span style="color:#5fb3b3;">&quot;]
</span><span style="color:#eb606b;">edition </span><span style="color:#5fb3b3;">= &quot;</span><span style="color:#99c794;">2018</span><span style="color:#5fb3b3;">&quot;
</span><span style="color:#cccece;">
</span><span style="color:#5fb3b3;">[dependencies]
</span></pre><h3 id="enable-fast-compiles-optional">Enable Fast Compiles (Optional)</h3>
<p>Bevy can be built just fine using default configuration on stable Rust. However for maximally fast iterative compiles, we recommend the following configuration:</p>
<ul>
<li><strong>Enable Bevy's Dynamic Linking Feature</strong>: This is the biggest iterative compilation time win and requires no special setup. When you have <code>bevy</code> as a dependency you can run your app with dynamic linking like this:<pre style="background-color:#2b2c2f;">
<span style="color:#6699cc;">cargo run</span><span style="color:#5fb3b3;"> --</span><span style="color:#f99157;">features</span><span style="color:#6699cc;"> bevy/dynamic
</span></pre></li>
<li><strong>LLD linker</strong>: The Rust compiler spends a lot of time in the &quot;link&quot; step. LLD is <em>much faster</em> at linking than the default Rust linker. To install LLD, find your OS below and run the given command:
<ul>
<li><strong>Ubuntu</strong>: <code>sudo apt-get install lld</code></li>
<li><strong>Arch</strong>: <code>sudo pacman -S lld</code></li>
<li><strong>Windows</strong>: Ensure you have the latest <a href="https://github.com/rust-embedded/cargo-binutils">cargo-binutils</a><pre style="background-color:#2b2c2f;">
<span style="color:#6699cc;">cargo install</span><span style="color:#5fb3b3;"> -</span><span style="color:#f99157;">f</span><span style="color:#6699cc;"> cargo-binutils
</span><span style="color:#6699cc;">rustup component add llvm-tools-preview
</span></pre></li>
<li><strong>MacOS</strong>: Modern LLD does not yet support MacOS, but we can use zld instead: <code>brew install michaeleisel/zld/zld</code></li>
</ul>
</li>
<li><strong>Nightly Rust Compiler</strong>: This gives access to the latest performance improvements and &quot;unstable&quot; optimizations<pre style="background-color:#2b2c2f;">
<span style="color:#5f6364;"># Install the nightly toolchain
</span><span style="color:#6699cc;">rustup toolchain install nightly
</span><span style="color:#5f6364;"># Configure your current project to use nightly (run this command within the project)
</span><span style="color:#6699cc;">rustup override set nightly
</span><span style="color:#5f6364;"># OR configure cargo to use nightly for all projects -- switch back with `rustup default stable`
</span><span style="color:#6699cc;">rustup default nightly
</span></pre>
<ul>
<li>You can use <code>cargo +nightly ...</code> if you don't want to change the default to nightly.</li>
</ul>
</li>
<li><strong>Generic Sharing</strong>: Allows crates to share monomorphized generic code instead of duplicating it. In some cases this allows us to &quot;precompile&quot; generic code so it doesn't affect iterative compiles. This is only available on nightly Rust.</li>
</ul>
<p>To enable fast compiles, install the nightly rust compiler and LLD. Then copy <a href="https://github.com/bevyengine/bevy/blob/master/.cargo/config_fast_builds">this file</a> to <code>YOUR_WORKSPACE/.cargo/config.toml</code>. For the project in this guide, that would be <code>my_bevy_game/.cargo/config.toml</code>.</p>
<h3 id="jiang-bevy-tian-jia-dao-xiang-mu-de-cargo-toml">将 Bevy 添加到项目的 Cargo.toml</h3>
<p>Bevy 可以作为一个库在<a href="https://crates.io/crates/bevy">crates.io</a>中获取. 它是 Rust 的官方软件包库. 找到最新的版本号(<a href="https://crates.io/crates/bevy"><img src="https://img.shields.io/crates/v/bevy.svg" alt="Crates.io" /></a>)并把它加到 Cargo.toml 文件中:</p>
<pre style="background-color:#2b2c2f;">
<span style="color:#5fb3b3;">[package]
</span><span style="color:#eb606b;">name </span><span style="color:#5fb3b3;">= &quot;</span><span style="color:#99c794;">my_bevy_game</span><span style="color:#5fb3b3;">&quot;
</span><span style="color:#eb606b;">version </span><span style="color:#5fb3b3;">= &quot;</span><span style="color:#99c794;">0.1.0</span><span style="color:#5fb3b3;">&quot;
</span><span style="color:#eb606b;">authors </span><span style="color:#5fb3b3;">= [&quot;</span><span style="color:#99c794;">You &lt;you@veryrealemail.com&gt;</span><span style="color:#5fb3b3;">&quot;]
</span><span style="color:#eb606b;">edition </span><span style="color:#5fb3b3;">= &quot;</span><span style="color:#99c794;">2018</span><span style="color:#5fb3b3;">&quot;
</span><span style="color:#cccece;">
</span><span style="color:#5fb3b3;">[dependencies]
</span><span style="color:#eb606b;">bevy </span><span style="color:#5fb3b3;">= &quot;</span><span style="color:#99c794;">0.4</span><span style="color:#5fb3b3;">&quot; </span><span style="color:#5f6364;"># make sure this is the latest version
</span></pre>
<p>再次执行<code>cargo run</code>. Bevy 依赖项开始构建. 这需要一点时间, 因为你实际上是从头构建引擎. 你只需要进行一次完整的构建. 以后每次都会很快的!</p>
<p>如果出现问题, 请查看<a href="/book_cn/troubleshooting/">故障排除部分</a> or <a href="https://discord.com/invite/gMUk5Ph">在 Discord 中寻求帮助</a>.</p>
<p>现在我们已经建立了 Bevy 项目，我们准备开始制作我们的第一个 Bevy 应用程序！</p>
</div>
    <div class="book-pagers" />
  </div>
</div>

</div>
    </section>
  </body>
</html>
