<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Lerna · 用于 拥有多个packages 的 js项目 的工具.</title>
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <header class="hero">
      <img src="images/lerna-hero.svg" alt="Lerna logo" width="500px">
      <p class="hero__lead">用于 拥有多个packages 的 js项目 的工具.</p>

      <p class="hero__buttons">
        <iframe src="https://ghbtns.com/github-btn.html?user=lerna&repo=lerna&type=star&count=true&size=large" frameborder="0" scrolling="0" width="160px" height="30px"></iframe>
        <script async defer src="https://slack.lernajs.io/slackin.js?large"></script>
      </p>

      <p class="hero__follow">
        <a href="https://twitter.com/lernajs" target="_blank">关注 Lerna 的 Twitter</a>
      </p>
    </header>

    <article class="content">
      <section class="content__section" id="about">
        <h2>
          <a href="#about">关于</a>
        </h2>

        <p>
          大型的代码库 拆分为 独立的版本包 对 代码共享非常有用,然而,要对这么
          多的存储库进行更改是<em>如此凌乱</em>且难以追踪，还有还有
          跨存储库测试 也变得非常复杂。
        </p>

        <p>
          为了解决这样 (那样) 的问题, 一些项目组会将他们的基础代码库分组成多个包库. 像 Babel,
          React, Angular, Ember, Meteor, Jest 和 其他项目组开发他们的包都是在一个repo库.
        </p>

        <p class="text__important">
          Lerna 搭配 git 与 npm 优化了管理多个包库的工作流程. 
        </p>
      </section>

      <hr class="hr--large">

      <section class="content__section" id="getting-started">
        <h2>
          <a href="#getting-started">入门</a>
        </h2>

        <p>
          让我们用
          <a href="https://www.npmjs.com">npm</a> 全局下载开始:
        </p>

        <p>Lerna 2.x是推荐的版本.</p>

        <pre class="pre--command pre--centered"><code>npm install --global lerna</code></pre>

        <p>
            接下来我们将创建一个新的git存储库:
        </p>

        <pre class="pre--command pre--centered"><code>git init lerna-repo &amp;&amp; cd lerna-repo</code></pre>

        <p>
            现在让我们把它变成一个Lerna项目:
        </p>

        <pre class="pre--command pre--centered"><code>lerna init</code></pre>

        <p>
            您的存储库现在应该如下所示:
        </p>

        <pre class="pre--files"><code>lerna-repo/
  packages/
  package.json
  lerna.json</code></pre>
      </section>

      <hr class="hr--large">

      <section class="content__section" id="commands">
        <h2>
          <a href="#commands">命令</a>
        </h2>

        <p>
            以下是每个命令的简要介绍。
          请浏览 <a href="https://github.com/lerna/lerna#readme">README</a>
          获取更多信息.
        </p>

        <section class="command" id="command-init">
          <h3><a href="#command-init">
            <code>lerna init</code>
          </a></h3>

          <p>
              创建一个新的lerna repo 或 将现有的repo升级到当前版本的Lerna。
          </p>

          <h4>Options</h4>

          <p>
            <code>--independent</code>/<code>-i</code> – 使用独立版本控制模式.
          </p>
        </section>

        <section class="command" id="command-bootstrap">
          <h3><a href="#command-bootstrap">
            <code>lerna bootstrap</code>
          </a></h3>

          <p>
            在当前的Lerna仓库中引导包。安装所有依赖项并链接任何跨库依赖项
          </p>
          <p>
            <strong>
                此命令至关重要，因为它允许您 <code>require()</code>一些包名称来使用,就好像包已经存在并在您的 <code>node_modules</code> 文件夹.
            </strong>
          </p>
        </section>

        <section class="command" id="command-import">
          <h3><a href="#command-import">
            <code>lerna import &lt;pathToRepo&gt;</code>
          </a></h3>
          <p>
            导入 &lt;pathToRepo&gt; 这个本地路径的提交记录到packages/&lt;directory-name&gt;. 
          </p>
        </section>

        <section class="command" id="command-publish">
          <h3><a href="#command-publish">
            <code>lerna publish</code>
          </a></h3>

          <p>
              创建软件包的新版本用以更新. 提示新版本并更新 git和npm 上的所有软件包。
          </p>

          <h4>选项</h4>

          <p>
            <code>--npm-tag [tagname]</code> — 发布 tagname版本 到npm (默认是最新的).
          </p>
          <p>
            <code>--canary</code>/<code>-c</code> – 创建 canary 版本.
          </p>
          <p>
            <code>--skip-git</code> – 不要运行任何git命令
          </p>
          <p>
            <code>--force-publish [packages]</code> — 强制发布指定的包（逗号分隔）或所有包使用
            <code>*</code> (跳过git diff检查更改的包).
          </p>
        </section>

        <section class="command" id="command-changed">
          <h3><a href="#command-changed">
            <code>lerna changed</code>
          </a></h3>
          <p>
              检查自上次发布以来哪些软件包已更改.
          </p>
        </section>

        <section class="command" id="command-diff">
          <h3><a href="#command-diff">
            <code>lerna diff [package?]</code>
          </a></h3>

          <p>
              自上次发布以来，所有包或单个包的变化.
          </p>
        </section>

        <section class="command" id="command-run">
          <h3><a href="#command-run">
            <code>lerna run [script]</code>
          </a></h3>

          <p>
            运行一个<a href="https://docs.npmjs.com/misc/scripts">npm script</a>
            在每个包含这个脚本的包.
          </p>
        </section>

        <section class="command" id="command-ls">
          <h3><a href="#command-ls">
            <code>lerna ls</code>
          </a></h3>

          <p>
              列出当前Lerna项目中的所有公共包.
          </p>
        </section>

      </section>

      <section class="content__section" id="users">
        <h2>
          <a href="#users">谁在用 lerna ?</a>
        </h2>

          <ul>
            <li><a href="https://github.com/primer/primer">primer/primer</a></li>
            <li><a href="https://github.com/babel/babel">babel/babel</a></li>
            <li><a href="https://github.com/facebook/create-react-app">facebook/create-react-app</a></li>
            <li><a href="https://github.com/ReactTraining/react-router">ReactTraining/react-router</a></li>
            <li><a href="https://github.com/pugjs/pug">pugjs/pug</a></li>
            <li><a href="https://github.com/facebook/jest">facebook/jest</a></li>
            <li><a href="https://github.com/palantir/blueprint">palantir/blueprint</a></li>
            <li><a href="https://github.com/reactotron/reactotron">reactotron/reactotron</a></li>
            <li><a href="https://github.com/ElemeFE/mint-ui">ElemeFE/mint-ui</a></li>
            <li><a href="https://github.com/devtools-html/debugger.html">devtools-html/debugger.html</a></li>
            <li><a href="https://github.com/alibaba/rax">alibaba/rax</a></li>
            <li><a href="https://github.com/Turfjs/turf">Turfjs/turf</a></li>
            <li><a href="https://github.com/babel/babili">babel/babili</a></li>
            <li><a href="https://github.com/storybooks/storybook">storybooks/storybook</a></li>
            <li><a href="https://github.com/xmppjs/xmpp.js">xmppjs/xmpp.js</a></li>
            <li><a href="https://github.com/wooorm/retext">wooorm/retext</a></li>
            <li><a href="https://github.com/jumpsuit/jumpsuit">jumpsuit/jumpsuit</a></li>
            <li><a href="https://github.com/strapi/strapi">strapi/strapi</a></li>
            <li><a href="https://github.com/cloudflare/cf-ui">cloudflare/cf-ui</a></li>
            <li><a href="https://github.com/colmena/colmena">colmena/colmena</a></li>
            <li><a href="https://github.com/angus-c/just">angus-c/just</a></li>
            <li><a href="https://github.com/cerebral/cerebral">cerebral/cerebral</a></li>
            <li><a href="https://github.com/nteract/nteract">nteract/nteract</a></li>
            <li><a href="https://github.com/wooorm/remark">wooorm/remark</a></li>
            <li><a href="https://github.com/rofrischmann/fela">rofrischmann/fela</a></li>
            <li><a href="https://github.com/tbranyen/diffhtml">tbranyen/diffhtml</a></li>
            <li><a href="https://github.com/ElemeFE/cooking">ElemeFE/cooking</a></li>
            <li><a href="https://github.com/antwarjs/antwar">antwarjs/antwar</a></li>
            <li><a href="https://github.com/apollostack/graphql-server">apollostack/graphql-server</a></li>
            <li><a href="https://github.com/jimpick/lambda-comments">jimpick/lambda-comments</a></li>
            <li><a href="https://github.com/lystable/recon">lystable/recon</a></li>
            <li><a href="https://github.com/marudor/flowInterfaces">marudor/flowInterfaces</a></li>
            <li><a href="https://github.com/GoogleChrome/sw-helpers">GoogleChrome/sw-helpers</a></li>
            <li><a href="https://github.com/webpack-preset/webpack-preset">webpack-preset/webpack-preset</a></li>
            <li><a href="https://github.com/vazco/uniforms">vazco/uniforms</a></li>
            <li><a href="https://github.com/metal/metal.js">metal/metal.js</a></li>
            <li><a href="https://github.com/steelbrain/pundle">steelbrain/pundle</a></li>
            <li><a href="https://github.com/neos/neos-ui">neos/neos-ui</a></li>
            <li><a href="https://github.com/mosjs/mos">mosjs/mos</a></li>
            <li><a href="https://github.com/lore/lore">lore/lore</a></li>
            <li><a href="https://github.com/act-framework/act">act-framework/act</a></li>
            <li><a href="https://github.com/yvele/poosh">yvele/poosh</a></li>
            <li><a href="https://github.com/noderaider/gridiron">noderaider/gridiron</a></li>
            <li><a href="https://github.com/superawesomelabs/leo">superawesomelabs/leo</a></li>
            <li><a href="https://github.com/tocco/tocco-client">tocco/tocco-client</a></li>
            <li><a href="https://github.com/zalando-incubator/tessellate">zalando-incubator/tessellate</a></li>
            <li><a href="https://github.com/sencha/extjs-reactor">sencha/extjs-reactor</a></li>
            <li><a href="https://github.com/DigitalRiver/react-atlas">DigitalRiver/react-atlas</a></li>
            <li><a href="https://github.com/forivall/tacoscript">forivall/tacoscript</a></li>
            <li><a href="https://github.com/Boxable/box-ui">Boxable/box-ui</a></li>
            <li><a href="https://github.com/flux-capacitor/flux-capacitor">flux-capacitor/flux-capacitor</a></li>
            <li><a href="https://github.com/trepo/trepo-js">trepo/trepo-js</a></li>
            <li><a href="https://github.com/spacedoc/spacedoc">spacedoc/spacedoc</a></li>
            <li><a href="https://github.com/oknosoft/metadata.js">oknosoft/metadata.js</a></li>
            <li><a href="https://github.com/uber-web/uber-eslint">uber-web/uber-eslint</a></li>
            <li><a href="https://github.com/brittanica/brittanica">brittanica/brittanica</a></li>
            <li><a href="https://github.com/openzipkin/zipkin-js">openzipkin/zipkin-js</a></li>
            <li><a href="https://github.com/vudash/vudash">vudash/vudash</a></li>
            <li><a href="https://github.com/nteract/commuter">nteract/commuter</a></li>
            <li><a href="https://github.com/frintjs/frint">frintjs/frint</a></li>
            <li><a href="https://github.com/fyndiq/fyndiq-ui">fyndiq/fyndiq-ui</a></li>
            <li><a href="https://github.com/azu/immutable-array-prototype">azu/immutable-array-prototype</a></li>
            <li><a href="https://github.com/TrueCar/gluestick">TrueCar/gluestick</a></li>
            <li><a href="https://github.com/KELiON/create-cerebro-plugin">KELiON/create-cerebro-plugin</a></li>
            <li><a href="https://github.com/phenomic/phenomic">phenomic/phenomic</a></li>
            <li><a href="https://github.com/sterjakovigor/vqua">sterjakovigor/vqua</a></li>
            <li><a href="https://github.com/wireapp/wire-web-packages">wireapp/wire-web-packages</a></li>
            <li><a href="https://github.com/klis87/redux-saga-requests">klis87/redux-saga-requests</a></li>
            <li><a href="https://github.com/WordPress/packages">WordPress/packages</a></li>
            <li><a href="https://github.com/react-cosmos/react-cosmos">react-cosmos/react-cosmos</a></li>
            <li><a href="https://github.com/jsbites/jedifocus-monorepo">jsbites/jedifocus-monorepo</a></li>
            <li><a href="https://github.com/FoalTS/foal">FoalTS/foal</a></li>
            <li><a href="https://github.com/emotion-js/emotion">emotion-js/emotion</a></li>
            <li><a href="https://github.com/Bamieh/reflow/">Bamieh/reflow</a></li>
            <li><a href="https://github.com/transloadit/uppy/">transloadit/uppy</a></li>
            <li><a href="https://github.com/olistic/warriorjs">olistic/warriorjs</a></li>        
            <li><a href="https://github.com/gatsbyjs/gatsby">gatsbyjs/gatsby</a></li>
          </ul>
      </section>
    </article>
  </body>
</html>
