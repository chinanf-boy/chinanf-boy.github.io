<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta http-equiv="content-language" content="zh-CN" />
    
    <meta name="viewport" content="width=device-width, initial-scale=0.5">
    
    
    <title>Rust周报 378(译)</title>

    

        
        <script src="https://cdn.bootcdn.net/ajax/libs/anchor-js/4.2.0/anchor.min.js"></script>
        <script>
            document.addEventListener("DOMContentLoaded", function(event) {
                anchors.options = {
                visible: 'hover',
                placement: 'left',
                icon: "¶"
                };
            anchors.add();
            })
        </script>
        
        

        
            <script src="https://cdn.bootcss.com/clipboard.js/2.0.4/clipboard.min.js"></script>
            <link href="/css/tooltips.css" rel="stylesheet">
            
        

        
        
        <style type="text/css">
            body {background-color: #fbf6ec;}
        </style>
        

        
        
             <link rel="stylesheet" href="/css/main.css"></link> <link rel="stylesheet" href="/css/stylesheet.css"></link> <link rel="stylesheet" href="/css/rust-week.css"></link>
        

        
    
    <link href="https://cdn.bootcdn.net/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css" rel="stylesheet">
    
    <script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
     <script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/9.12.0/languages/go.min.js"></script>
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>

    

</head>


<body>
    <script>
        window.addEventListener("resize", resizeThrottler, false);

        var resizeTimeout;
        function resizeThrottler() {
        
        if ( !resizeTimeout ) {
            resizeTimeout = setTimeout(function() {
            resizeTimeout = null;
            actualResizeHandler();
        
            
            }, 66);
        }
        }
        actualResizeHandler()
        function actualResizeHandler() {
                if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent))
                {
                    document.body.classList.add('mobile');
                }else{
                    document.body.classList.remove('mobile');  
                }
    }</script>

    
    


    

<div class="inner" style="position:relative;">
  
  <div class="side-btn"><a href="/" class="back">Home</a></div>
  
<div class="blog-post">
  <h2>Rust周报 378(译)</h2>
        

<ul>
<li><a href="https://this-week-in-rust.org">this-week-in-rust</a></li>
<li>日期：2021-02-17</li>
<li><a href="https://this-week-in-rust.org/blog/2021/02/17/this-week-in-rust-378/">原文：378 期</a></li>
</ul>

<p>你好，欢迎再来一期*本周的螃蟹行情*！<a href="http://rust-lang.org">Rust</a>是一种追求三位一体的系统语言：安全性、并发性和速度。这是它的进展和社区的每周总结。有什么要说的吗？推特<a href="https://twitter.com/ThisWeekInRust">@ThisWeekInRust</a>或<a href="https://github.com/cmr/this-week-in-rust">向我们发送请求</a>。 想参与吗？<a href="https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md">我们热爱贡献</a>.</p>

<p>*这本周的螃蟹行情*是在<a href="https://github.com/cmr/this-week-in-rust">在 Github 上</a>公开的。如果你在本周的问题中发现任何错误，<a href="https://github.com/cmr/this-week-in-rust/pulls">请提交 PR</a>。</p>

<h1 id="updates-from-rust-community">Updates from Rust Community</h1>

<p>本周没有新闻通讯。</p>

<h3 id="official">Official</h3>

<ul>
<li><a href="https://blog.rust-lang.org/2021/02/11/Rust-1.50.0.html">Announcing Rust 1.50.0</a></li>
</ul>

<h3 id="project-tooling-updates">Project/Tooling Updates</h3>

<ul>
<li><a href="https://intellij-rust.github.io/2021/02/15/changelog-141.html">IntelliJ Rust changelog #141</a></li>
<li><a href="https://rust-analyzer.github.io/thisweek/2021/02/15/changelog-64.html">rust-analyzer changelog #64</a></li>
<li><a href="https://relm.antoyo.xyz/big-release/">A big release for relm</a></li>
</ul>

<h3 id="observations-thoughts">Observations/Thoughts</h3>

<ul>
<li><a href="https://blog.liw.fi/posts/2021/02/14/xdg-base-dirs-rust/">The XDG 基础目录规范 and Rust</a></li>
<li><a href="https://state.smerity.com/smerity/state/01EYB6YQ5T2KFSC1PF55A3B8DG">Zero dependency images (of chaos) in Rust</a></li>
<li><a href="https://radekvit.medium.com/examples-of-declarative-style-in-rust-9fae89c0fea">Examples of declarative style in Rust</a></li>
<li><a href="https://gist.github.com/PoignardAzur/8038f5ed7dc8d00e3e9472aca57fb35c">Rust 2030 Christmas list: Better cfg</a></li>
<li><a href="https://matklad.github.io/2021/02/14/for-the-love-of-macros.html">For the Love of Macros</a></li>
<li><a href="https://fly.io/blog/the-tokio-1-x-upgrade/">The Tokio Upgrade from 0.2 to 1.x</a></li>
<li><a href="https://cfallin.org/blog/2021/01/22/cranelift-isel-2/">Cranelift, Part 2: Compiler Efficiency, CFGs, and a Branch Peephole Optimizer</a></li>
<li>[audio] <a href="https://anchor.fm/building-with-rust/episodes/Building-with-Rust-Luca-Palmieri-on-TrueLayer-and-Zero-to-Production-eq9rqs">building with rust: luca palmieri on truelayer and zero to production</a></li>
<li>[audio] <a href="https://jamesmunns.com/podcast/008-yosh/">chats with james 008 - yoshua wuyts</a></li>
<li>[video] <a href="https://www.youtube.com/watch?v=C7BTIdkWreI&amp;feature=youtu.be">rust 1.50 patch review</a></li>
</ul>

<h3 id="rust-walkthroughs">Rust Walkthroughs</h3>

<ul>
<li><a href="https://ryhl.io/blog/actors-with-tokio/">Actors with Tokio</a></li>
<li><a href="https://medium.com/tenable-techblog/building-a-microservice-with-rust-23a4de6e5e14">Building a microservice with Rust</a></li>
<li><a href="https://thatgeoguy.ca/blog/2021/02/15/rust-is-cool-enums/">Rust is cool - Enums</a></li>
<li><a href="https://dev.to/jbarszczewski/rust-cli-game-of-life-tutorial-part-2-16j3">Rust CLI Game of Life tutorial - Part 2</a></li>
<li><a href="https://dev.to/jldec/calling-rust-from-a-cloudflare-worker-17b4">Calling Rust from a Cloudflare Worker</a></li>
<li><a href="https://dev.to/vinted/validating-json-input-in-rust-web-services-5gp0">Validating JSON input with Rust web services</a></li>
<li><a href="https://dev.to/joaoh82/what-would-sqlite-look-like-if-written-in-rust-part-1-2np4">What would SQLite look like if written in Rust? &ndash; Part 1</a></li>
<li><a href="https://rustyyato.github.io/type/system,type/families/2021/02/15/Type-Families-1.html">Generalizing over Generics in Rust (Part 1) - AKA 高阶类型 in Rust</a></li>
<li><a href="https://blog.turbo.fish/proc-macro-basics/">Procedural Macros: The Basics</a></li>
<li><a href="https://blogg.bekk.no/building-an-openstreetmap-app-in-rust-part-ii-933ca8d0c48a">Building an OpenStreetMap app in Rust, Part II</a></li>
<li><a href="https://www.novatec-gmbh.de/en/blog/look-ma-no-js-compiling-rust-to-webassembly/">Look, Ma! No JS! - Compiling Rust to WebAssembly</a></li>
<li><a href="https://github.com/dranikpg/simple-rays">Simple ray tracer written in Rust from scratch</a></li>
<li><a href="https://www.fpcomplete.com/blog/short-circuit-sum-rust/">短示例合集 in Rust</a></li>
<li><a href="https://www.lpalmieri.com/posts/skeleton-and-principles-for-a-maintainable-test-suite/">Zero to Production in Rust, Part 7.1 - Skeleton And Principles For A Maintainable Test Suite</a></li>
<li><a href="https://www.notion.so/CCSS-Devclub-Rust-Workshop-dccad2c1119d4af7bf78f3d3b4797603">CCSS Devclub Rust Workshop（一站式 Rust 学习）</a></li>
<li>[video] <a href="https://youtu.be/UEAg4qCALb8">graphs in rust: let&rsquo;s build a maze!</a></li>
</ul>

<h3 id="miscellaneous">Miscellaneous</h3>

<ul>
<li><a href="https://github.com/Synerise/cleora">Cleora - an ultra fast graph embedding tool written in Rust</a></li>
<li><a href="https://vertexclique.com/cost-based-query-optimizations/">Cost-based query optimizations in multithreaded environments</a></li>
<li><a href="https://lonami.dev/blog/woce-2/">Writing our own Cheat Engine: Exact Value scanning</a></li>
<li><a href="https://medium.com/the-polyglot-programmer/what-would-sqlite-look-like-if-written-in-rust-part-1-4a84196c217d">What would SQLite look like if written in Rust? — Part 1</a></li>
</ul>

<h1 id="crate-of-the-week">Crate of the Week</h1>

<p>尽管没有提名，本周的箱子还是<a href="https://crates.io/crates/firestorm">firestorm</a>，一个快速的侵入式火焰图分析库。</p>

<p>无论如何，llogiq 对该建议感到非常满意。</p>

<p><a href="https://users.rust-lang.org/t/crate-of-the-week/2704">提交下周的建议和投票</a>！</p>

<h1 id="call-for-participation">Call for Participation</h1>

<p>一直想为开源项目做贡献，但不知道从哪里开始？每周我们都会重点介绍 Rust 社区的一些任务，供您选择和开始！</p>

<p>其中一些任务也可能有导师，请访问任务页面以获取更多信息。</p>

<ul>
<li><a href="https://bugs.fuchsia.dev/p/fuchsia/issues/detail?id=69644">Fuchsia - netstack3: Support stable interface IDs</a></li>
</ul>

<p>如果您是 Rust 项目的所有者并且正在寻找贡献者，请提交任务<a href="https://users.rust-lang.org/t/twir-call-for-participation/4821">这里</a>。</p>

<h1 id="updates-from-rust-core">Updates from Rust Core</h1>

<p>共有 340 个拉取请求<a href="https://github.com/search?q=is%3Apr+org%3Arust-lang+is%3Amerged+merged%3A2021-02-01..2021-02-08">在上周合并</a></p>

<ul>
<li><a href="https://github.com/rust-lang/rust/pull/81876">parser: fix panic in &lsquo;const impl&rsquo; recovery</a></li>
<li><a href="https://github.com/rust-lang/rust/pull/81384">fix derived <code>PartialOrd</code> operators</a></li>
<li><a href="https://github.com/rust-lang/rust/pull/81132">borrowck: 将 visited map 重构为一个 bitset</a></li>
<li><a href="https://github.com/rust-lang/rust/pull/81466">添加相似的 <code>mut</code> 方法，for for loop</a></li>
<li><a href="https://github.com/rust-lang/miri/pull/1703">miri: Remove non-power-of-two SIMD vectors</a></li>
<li><a href="https://github.com/rust-lang/chalk/pull/685">chalk: add Movability to Generator</a></li>
<li><a href="https://github.com/rust-lang/rust/pull/81744">try <code>fast_reject::simplify_type</code> in coherence before doing full check（先执行一致性/统一检查，优化优化）</a></li>
<li><a href="https://github.com/rust-lang/rust/pull/81995">修复建议：introduce explicit lifetime</a></li>
<li><a href="https://github.com/rust-lang/rust/pull/81990">make suggestion of changing mutability of arguments 更广泛</a></li>
<li><a href="https://github.com/rust-lang/rust/pull/81126">optimize <code>Vec::retain</code></a></li>
<li><a href="https://github.com/rust-lang/rust/pull/81687">make <code>Vec::split_at_spare_mut</code> public</a></li>
<li><a href="https://github.com/rust-lang/rust/pull/81486"><code>BTreeMap</code>: 解开 <code>Drop</code> implementation from <code>IntoIter</code></a></li>
<li><a href="https://github.com/rust-lang/rust/pull/81494">直接在 heap，初始化 <code>BTree</code> nodes </a></li>
<li><a href="https://github.com/rust-lang/rust/pull/81012">stabilize the <code>partition_point</code> feature</a></li>
<li><a href="https://github.com/rust-lang/rust/pull/80438">add <code>Box::into_inner</code></a></li>
<li><a href="https://github.com/rust-lang/stdsimd/pull/62">stdsimd: add SIMD shuffles for <code>SimdType</code>{<code>2</code>, <code>4</code>, <code>8</code>, <code>16</code>, <code>32</code>, <code>64</code>}</a></li>
<li><a href="https://github.com/rust-lang/stdsimd/pull/61">stdsimd: add bitmasks and simplify mask API</a></li>
<li><a href="https://github.com/rust-lang/rust/pull/81356">libtest: allow multiple filters</a></li>
<li><a href="https://github.com/rust-lang/cargo/pull/9133">cargo: change git dependencies to use <code>HEAD</code> by default </a></li>
<li><a href="https://github.com/rust-lang/cargo/pull/9169">cargo: 发出警告 on env variable case mismatch</a></li>
<li><a href="https://github.com/rust-lang/crates.io/pull/3271">crates.io: add <code>COM0</code> and <code>LPT0</code> to the list of 保留的 crate names</a> (Windows users rejoice)</li>
<li><a href="https://github.com/rust-lang/rust-clippy/pull/6657">clippy: fix suggestions that need parens in <code>from_iter_instead_of_collect</code> lint</a></li>
<li><a href="https://github.com/rust-lang/rust-clippy/pull/6700">clippy: fix <code>missing_panics_doc</code> warning on <code>unreachable!</code></a></li>
<li><a href="https://github.com/rust-lang/rust-clippy/pull/6697">clippy: fix <code>vec_init_then_push</code> false positives</a></li>
<li><a href="https://github.com/rust-lang/rust-clippy/pull/6696">clippy: downgrade <code>trivial_regex</code> to nursery</a></li>
<li><a href="https://github.com/rust-lang/rust-clippy/pull/6695">clippy: new lint: <code>bytes_nth</code></a></li>
</ul>

<h2 id="rust-compiler-performance-triage">Rust Compiler Performance Triage</h2>

<p>尽管安静的一周，但在 bootstrap 时间方面有了很大的改善，但大部分时间都是安静的，由于正在编译的代码发生了变化，因此使总数量减少了几个百分点，而 rustc_middle 减少了 10％。</p>

<p>分类由 @simulacrum 完成。修订范围：<a href="https://perf.rust-lang.org/?start=ea098255f74923d69ea234ee526df6b9cecc3b9b&amp;end=f1c47c79fe8438ed241630f885797eebef3a6cab&amp;absolute=false&amp;stat=instructions%3Au">ea09825..f1c47c7</a></p>

<p>1 个退步，2 个改进，1 个混合</p>

<h2 id="approved-rfcs">Approved RFCs</h2>

<p>对 Rust 的更改跟随 Rust<a href="https://github.com/rust-lang/rfcs#rust-rfcs">RFC (request for comments) process</a>。以下是本周批准实施的 RFC：</p>

<p><em>本周未批准任何 RFC。</em></p>

<h2 id="final-comment-period">Final Comment Period</h2>

<p>每周<a href="https://www.rust-lang.org/team.html">the team</a>宣布即将做出决定的 RFC 和主要 PR 的“最终评论期”。立即发表您的意见。</p>

<h3 id="rfcs-https-github-com-rust-lang-rfcs-labels-final-comment-period"><a href="https://github.com/rust-lang/rfcs/labels/final-comment-period">RFCs</a></h3>

<ul>
<li><a href="https://github.com/rust-lang/rfcs/pull/3014">Adds <code>must_not_suspend_lint</code> RFC</a></li>
<li><a href="https://github.com/rust-lang/rfcs/pull/3013">RFC: Checking conditional compilation at compile time</a></li>
<li><a href="https://github.com/rust-lang/rfcs/pull/2944">RFC: add the Freeze trait to libcore/libstd</a></li>
<li><a href="https://github.com/rust-lang/rfcs/pull/2708">Generic Pointer to Field</a></li>
</ul>

<h3 id="tracking-issues-prs-https-github-com-rust-lang-rust-labels-final-comment-period"><a href="https://github.com/rust-lang/rust/labels/final-comment-period">Tracking Issues &amp; PRs</a></h3>

<ul>
<li>[disposition: merge] <a href="https://github.com/rust-lang/rust/pull/82078">Make char and u8 methods const</a></li>
<li>[disposition: merge] <a href="https://github.com/rust-lang/rust/issues/81514">降阶 x86_64-rumprun-netbsd target</a></li>
<li>[disposition: merge] <a href="https://github.com/rust-lang/rust/pull/80595"><code>impl PartialEq&lt;Punct&gt; for char</code>; symmetry for #78636</a></li>
<li>[disposition: merge] <a href="https://github.com/rust-lang/rust/pull/80527">使 rustdoc lints 成为 a tool lint ，而不是 built-in</a></li>
<li>[disposition: merge] <a href="https://github.com/rust-lang/rust/pull/79208">Stabilize <code>unsafe_op_in_unsafe_fn</code> lint</a></li>
<li>[disposition: merge] <a href="https://github.com/rust-lang/rust/pull/78880">Add <code>NotSupported</code> to <code>std::io::ErrorKind</code></a></li>
<li>[disposition: merge] <a href="https://github.com/rust-lang/rust/pull/78429">[librustdoc] Only split lang string on <code>,</code>, , and <code>\t</code></a></li>
<li>[disposition: merge] <a href="https://github.com/rust-lang/rust/pull/76894">Lint for unused borrows as part of <code>UNUSED_MUST_USE</code> </a></li>
<li>[disposition: merge] <a href="https://github.com/rust-lang/rust/issues/74773">跟踪问题： str_split_once</a></li>
<li>[disposition: merge] <a href="https://github.com/rust-lang/rust/issues/70516">跟踪问题： ASCII methods on OsStr</a></li>
<li>[disposition: close] <a href="https://github.com/rust-lang/rust/issues/62633">跟踪问题： <code>Option::expect_none(msg)</code> and <code>unwrap_none()</code></a></li>
</ul>

<h2 id="new-rfcs">New RFCs</h2>

<ul>
<li><a href="https://github.com/rust-lang/rfcs/pull/3074">Add named path bases to cargo</a></li>
</ul>

<h1 id="quote-of-the-week">Quote of the Week</h1>

<blockquote>
<p>您是否看到有人用一只手杂耍了几件物品？这就是异步的意义。阻塞它就像书写一样（非异步）-每只手都需要不断地工作。如果您想以两倍的速度书写，则需要两只手同时书写。那就是多线程的。如果您玩杂耍，那么当物品离开您的手并悬停在空中时，您将无事可做。这就与网络 IO 类似 —— 您发出请求，只是在等待服务器响应。在此期间，您可能正在做一些事情，例如抓到另一个物品，然后再次扔回去。“ await”的意思就是 —— 我扔了起来，然后飞向空中，这时我想让现在的线程（或者说手）切换过来捕捉其他东西。</p>
</blockquote>

<p>– <a href="https://www.reddit.com/r/rust/comments/lia5fu/why_async_rust/gn2q25e/">/u/OS6aDohpegavod4 on /r/rust</a></p>

<p>Thanks to <a href="https://users.rust-lang.org/t/twir-quote-of-the-week/328/1002">Jacob Pratt</a> for the suggestion.</p>

<p><a href="https://users.rust-lang.org/t/twir-quote-of-the-week/328">Please submit quotes and vote for next week!</a></p>

<p><em>This Week in Rust is edited by: <a href="https://github.com/nellshamrell">nellshamrell</a>, <a href="https://github.com/llogiq">llogiq</a>, and <a href="https://github.com/cdmistman">cdmistman</a>.</em></p>

<p><small><a href="https://www.reddit.com/r/rust/comments/ln2zmo/this_week_in_rust_378/">Discuss on r/rust</a></small></p>

  </div>

<br>
  

<button id="edit-button" class="icon-button" type="button" title="Fork and edit" aria-label="Fork and edit"
aria-haspopup="true" aria-expanded="false" aria-controls="edit">
<i class="fa fa-edit">编辑本文</i>
</button>


<br>



<script src="/js/copyCode.js"></script>
<script src="/js/tooltips.js"></script>


<footer>
    <p style="float:right;margin:0 1rem;">
        &copy; 2021 <a href="https://github.com/chinanf-boy/yobrave-blog-with-Hugo/issues">yobrave (Issue me).</a>
        
      </p>
  <hr>

  

  <ul class="tags"  style="float: left!important;">
      
        <span>标签:</span>
        <li><a class="link" href="/tags/week"> #week </a></li>
      
      <span>  </span>
        
        <span>分类:</span>
        <li><a class="link" href="/categories/Rust"> #Rust </a></li>
      
  </ul>
  
  <br>


</footer>
</div> 


<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/3.1.1/js/bootstrap.min.js"></script>


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-128555056-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());

  gtag('config', 'UA-128555056-1');
</script>






<script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.4/dist/medium-zoom.min.js"></script>

<script>
  const zoom = mediumZoom()
  
  zoom.attach("p img")
</script>






<script>
        document.getElementById("edit-button").addEventListener("click", function () {
            var editWindow = window.open("https:\/\/github.com\/chinanf-boy\/yobrave-blog-with-Hugo/edit/master/content/post\/Rust周报-378(译).md");
        });</script>

    




</body>

</html>
